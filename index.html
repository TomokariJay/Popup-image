<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Window with Picture</title>
    <style>
        body {
            text-align: center;
            padding: 20px;
        }

        img {
            width: 200px;
            height: 250px;
            margin-top: 20px; /* Adjusted margin to provide space between text and image */
        }
    </style>
    <script>
        var popupWindow; // Declare a global variable to reference the popup window

        function askForPermission() {
            var userConsent = confirm("Do you want to open the popup window?");
            if (userConsent) {
                openPopup();
            }
        }

        function openPopup() {
            var imageUrl = "your-image-url.jpg";
            popupWindow = window.open('', 'Popup Window', 'width=120,height=120'); // Adjusted window dimensions
            popupWindow.document.write('<html><head><title>Popup Window</title></head><body><img src="' + imageUrl + '" alt="Image" width="200" height="250"></body></html>');
            popupWindow.document.close();
            checkFocus();
        }

        function checkFocus() {
            if (popupWindow && !popupWindow.closed) {
                popupWindow.focus();
                setTimeout(checkFocus, 100); // Check focus every 100 milliseconds
            }
        }
    </script>
</head>
<body>
    <h1>Click the button to ask for permission and open the popup window</h1>
    <p>This is some sample text on the page.</p>
    <button onclick="askForPermission()">Open Popup</button>
    <img src="your-image-url.jpg" alt="Image" width="200" height="250">
</body>
</html>
